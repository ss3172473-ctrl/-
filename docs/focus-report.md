# 📊 집중도 보고서 - 최종 데이터 정리

---

## 1. 집중 등급 (A+, A, B+, B, C, D)

| 집중률 | 등급 | 라벨 |
|--------|------|------|
| 90% 이상 | A+ | 최우수 |
| 80% 이상 | A | 우수 |
| 70% 이상 | B+ | 양호 |
| 60% 이상 | B | 보통 |
| 50% 이상 | C | 주의 |
| 50% 미만 | D | 경고 |

---

## 2. 집중률 (%)

```
집중률 = (순 집중시간 / 총 학습시간) × 100
```

---

## 3. 평균 점수

```
평균 점수 = 10초마다 샘플링된 집중도 점수들의 합 / 샘플 개수
```

- 최대 360개 샘플 유지 (1시간 분량)

---

## 4. 순 집중시간

**조건:** 집중도 점수 ≥ 70% AND 자리비움 아님

→ 매 1초마다 조건 충족 시 +1초 누적

---

## 5. 최대 연속 집중

**조건:** 집중도 점수 ≥ 70% AND 자리비움 아님

→ 조건 충족하는 동안 연속 시간 카운트  
→ 조건 미충족 시 리셋  
→ 가장 길었던 연속 시간 기록

---

## 6. 최대 착석 시간

**조건:** 자리비움 아님 (집중도 점수 무관)

→ 자리에 있는 동안 연속 시간 카운트  
→ 자리비움 시 리셋  
→ 가장 길었던 연속 시간 기록

---

## 7. 총 학습시간

학생이 접속해 있는 전체 시간

→ 매 1초마다 무조건 +1초 (상태 무관)

---

## 8. 자리비움 횟수

다른 상태 → 자리비움 상태로 전환될 때마다 +1

(이미 자리비움 상태에서 계속 자리비움이면 카운트 안 함)

---

## 9. 활동일수 (주간/월간)

해당 기간 중 집중도 데이터가 1개라도 기록된 날의 수

---

## 10. 출석일수 (주간/월간)

```
출석일수 = 출석 체크(checkIn)가 기록된 날의 수 / 해당 기간 총 일수
출석률 = (출석일 / 총일수) × 100
```

---

## 11. 지난달 대비 변화량 (월간 보고서만)

### 순 집중시간 변화

```
변화량 = 이번달 순집중시간 - 지난달 순집중시간
변화율 = ((이번달 - 지난달) / 지난달) × 100
```

### 최대 착석시간 변화

```
변화량 = 이번달 최대착석시간 - 지난달 최대착석시간
변화율 = ((이번달 - 지난달) / 지난달) × 100
```

- 🟢 증가: 초록색 ↑ 표시
- 🔴 감소: 빨간색 ↓ 표시
- 지난달 데이터 없으면 표시 안 함

---

## 📥 다운로드 파일 포함 데이터

### CSV 파일

| 컬럼 | 설명 | 단위 |
|------|------|------|
| 이름 | 학생 이름 | - |
| 학년 | 학생 학년 | - |
| 기간 | 보고서 기간 | 날짜 |
| 집중률 | 순집중/총학습 비율 | % |
| 평균점수 | 샘플링 점수 평균 | 점 |
| 순집중시간 | 70%↑ 누적 시간 | 초 |
| 최대연속집중 | 70%↑ 연속 최대 | 초 |
| 최대착석시간 | 자리비움 없이 연속 최대 | 초 |
| 총학습시간 | 전체 접속 시간 | 초 |
| 자리비움횟수 | 자리비움 전환 횟수 | 회 |
| 출석일수 | 출석일/총일수 | 일 |
| 출석률 | 출석 비율 | % |
| 순집중시간변화 | 지난달 대비 (월간만) | 초 |
| 순집중시간변화율 | 지난달 대비 (월간만) | % |
| 최대착석시간변화 | 지난달 대비 (월간만) | 초 |
| 최대착석시간변화율 | 지난달 대비 (월간만) | % |

### PDF 파일

- 위 CSV 데이터 + 시각적 카드 형태
- 지난달 대비 변화 박스 (월간만)
- 요약 문구
- 일별 상세 테이블 (주간/월간)
